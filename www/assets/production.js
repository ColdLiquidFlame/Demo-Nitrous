 /**** angular_test_app - Chris White ****/
angular.module("myApp",["ngRoute","modify-item-directive","item-service","list-item-directive","myApp.main","myApp.lists","myApp.navbars","myApp.login"]).run(["$rootScope","$location",function(a,b){a.$on("$routeChangeError",function(a,c,d,e){"AUTH_REQUIRED"===e&&b.path("/login"+c.$$route.originalPath)})}]).config(["$routeProvider","$locationProvider",function(a,b){a.otherwise({redirectTo:"/main"})}]),angular.module("authentication-factory",["firebase"]).factory("Auth",["$firebaseAuth","$rootScope","$location",function(a,b,c){var d=new Firebase("https://nitrous-demo.firebaseio.com/"),e=a(d);return e.$onAuth(function(a){a?b.auth=a:(b.auth=null,c.path("/main"))}),e}]),angular.module("id-service",[]).service("idService",[function(){var a=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()};this.Guid=function(){return a()}}]),angular.module("item-service",["firebase"]).service("itemService",["$firebaseArray",function(a){var b=new Firebase("https://nitrous-demo.firebaseio.com/items"),c=a(b);this.addItem=function(a){c.$add(a)},this.removeItem=function(a){c.$remove(a)},this.editItem=function(a){c.$save(a)},this.items=function(){return c}}]),angular.module("list-item-directive",[]).directive("listItem",["itemService",function(a){return{restrict:"E",templateUrl:"components/list-item/list-item.html",scope:{items:"=",selectedItem:"=",options:"="},controller:["$scope",function(b){b["delete"]=function(b){a.removeItem(b)},b.edit=function(a){b.selectedItem=a}}]}}]),angular.module("modify-item-directive",[]).directive("modifyItem",["itemService",function(a){return{restrict:"E",templateUrl:"components/modify-item/modify-item.html",scope:{items:"=listItems",selectedItem:"="},controller:["$scope",function(b){b.$watch("selectedItem",function(a){b.currentItem=angular.copy(b.selectedItem)}),b.beginItemAdd=function(){b.isAdd=!0},b.save=function(){b.isAdd?a.addItem(b.currentItem):(b.selectedItem.value=b.currentItem.value,a.editItem(b.selectedItem)),b.cancelEdit()},b.cancelEdit=function(){b.showForm=!1,b.currentItem=null,b.selectedItem=null,b.isAdd=!1,b.isEdit=!1}}],link:function(a,b,c){}}}]),angular.module("myApp.navbars",["authentication-factory"]).controller("NavBarCtrl",["$scope","$location","Auth",function(a,b,c){function d(){switch(a.navbar={},b.$$url){case"/main":a.navbar.main=!0;break;case"/lists":a.navbar.lists=!0}}a.$on("$locationChangeStart",function(a){d()}),a.logout=function(){c.$unauth()},d()}]),angular.module("myApp.lists",["ngRoute","authentication-factory"]).config(["$routeProvider",function(a){a.when("/lists",{controller:"ListsCtrl",templateUrl:"lists/lists.html",resolve:{currentAuth:["Auth","$location",function(a,b){return a.$requireAuth()}]}})}]).controller("ListsCtrl",["$scope","itemService","currentAuth","$location","Auth",function(a,b,c,d,e){a.items=b.items(),a.newItem=null,a.selectedItem=null}]),angular.module("myApp.login",["ngRoute","authentication-factory"]).config(["$routeProvider",function(a){a.when("/login",{controller:"LoginCtrl",templateUrl:"login/login.html"}).when("/login/:redirect",{controller:"LoginCtrl",templateUrl:"login/login.html"})}]).controller("LoginCtrl",["$scope","Auth","$routeParams","$location",function(a,b,c,d){a.login=function(){b.$authWithPassword(a.user).then(function(a){d.path(angular.isDefined(c.redirect)?"/"+c.redirect:"/main")})["catch"](function(b){a.errorMessage="Invalid email or password"})}}]),angular.module("myApp.main",["ngRoute"]).config(["$routeProvider",function(a){a.when("/main",{controller:"MainCtrl",templateUrl:"main/main.html"})}]).controller("MainCtrl",["$scope",function(a){a.message="Hello World"}]);